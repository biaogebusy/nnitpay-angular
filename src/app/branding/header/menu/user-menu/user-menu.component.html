<div class="user">
  <ng-container *ngIf="!userState.anthenticated && !screen.eq('xs')">
    <button color="primary" [routerLink]="['/login']" mat-mini-fab mat-button>
      <mat-icon>person</mat-icon>
    </button>
  </ng-container>
  <ng-container *ngIf="userState.anthenticated">
    <button mat-mini-fab color="primary" mat-button [matMenuTriggerFor]="menu">
      <h3 class="name" *ngIf="!userState.picture; else picture">
        {{utilities.getIndexTitle(userState?.currentUser?.display_name || 'N')}}</h3>
      <ng-template #picture>
        <img class="user-picture" [src]="userState.picture" alt="userState.currentUser.display_name">
      </ng-template>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item>
        <mat-icon>email</mat-icon>
        {{userState.currentUser?.mail}}
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        退出
      </button>
    </mat-menu>
  </ng-container>
</div>
