<div class="footer">
  <div class="container">
    <app-bg [classes]="['bg-fill-width','footer-wave']">
      <mat-icon class="wave" svgIcon="wave"></mat-icon>
    </app-bg>
    <div *ngIf="branding.content?.footer?.mainMenu && !screen.eq('xs')" class="footer-main-menu m-bottom p-y-sm"
      fxLayout.xs="column" fxLayoutAlign="space-between start">
      <mat-list *ngFor="let menu of branding.content.footer.mainMenu" role="list">
        <div mat-subheader class="text-base">{{menu.label}}</div>

        <!-- TODO： 分出common item 和 popup  -->
        <mat-list-item *ngFor="let subMenu of menu.child; index as i" role="listitem" [matMenuTriggerFor]="popup">
          <mat-icon mat-list-icon svgIcon="{{subMenu.icon}}"></mat-icon>
          <app-link *ngIf="subMenu.link; else span" [content]="subMenu"></app-link>
          <ng-template #span>
            <span>{{subMenu.label}}</span>
          </ng-template>
          <mat-menu #popup="matMenu" yPosition="above">
            <span [innerHTML]="subMenu.popup"></span>
          </mat-menu>
        </mat-list-item>
      </mat-list>
    </div>
    <div class="mobile p-y-sm" *ngIf="branding.content?.footer?.mobileMenu && screen.eq('xs')">
      <mat-accordion class="footer-menu-mobile" multi>
        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false"
          *ngFor="let menu of branding.content.footer.mobileMenu">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{menu.label}}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item *ngFor="let subMenu of menu.child">
              <app-link *ngIf="subMenu.link" [content]="subMenu"></app-link>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
  <div class="footer-bottom text-center p-y-sm">
    <div class="container">
      <div class="brand" fxLayoutAlign="space-between center">
        <h2 class="mat-h2 m-bottom-0">NNITPAY</h2>
        <p>©{{utilities.fullYear}} Copyright by NNITPAI</p>
      </div>
    </div>
  </div>
</div>
